---
layout: single
title: 상태, Observable 객체, 그리고 Environment 객체로 작업하기
toc: true
toc_sticky: true
categories: SwiftUI
---
**상태, Observable 객체, Environment 객체**
* 사용자 인터페이스의 모양과 동작을 결정하는 상태 제공<
* 사용자 인터페이스 레아아웃을 구성하는 뷰는 뷰와 바인딩된 상태 객체가 시간이 지남에 따라 변하면 그 상태에 따라 자동으로 뷰가 업데이트 됨

------------

# 상태 프로퍼티
**상태 프로퍼티(state property)**
* 현재 상태를 저장
* 간단한 데이터 타입을 저장
* **@State** 프로퍼티 래퍼 사용
* private 프로퍼티로 선언

```
struct ContentView: View {

    @State private var wifiEnalbed = true
    @State private var userName = ""
    
    var body: some View {
.
.
}
```
바인딩
* 프로퍼티 이름앞에 ```$``` 키워드 사용

```
struct ContentView: View {

    @State private var wifiEnalbed = true
    @State private var userName = ""
    
    var body: some View {
        VStack {
            TextField("Enter user name", text: $userName)
            Text(userName)
        }
    }
}
```
> 상태 프로퍼티에 변화가 생길 때마다 뷰 계층구조는 SwiftUI에 의해 다시 렌더링<br/>
> userName 프로퍼티에 '$' 표시 없이 사용된 이유:<br/>
> 상태 프로퍼티에 할당된 값을 참조하였기 때문

토글 뷰 바인딩
```
var body: some View {
    VStack {
        Toggle(isOn: $wifiEnabled) {
            Text("Enalbe Wi-Fi")
        }
        TextField("Enter user name", text: $userName)
        Text(userName)
        Image(systemName: wifiEnalbed ? "wifi" : "wifi.slash")
    }
}
```

-------------

# 상태 바인딩
```
.
.
    VStack {
            Toggle(isOn: $wifiEnabled) {
                Text("Enalbe Wi-Fi")
            }
            TextField("Enter user name", text: $userName)
            WifiImageView()
        }
    }
.
.
struct WifiImageView: View {

    var body: some View {
        Image(systemName: wifiEnabled ? "wifi" : "wifi.slash") // 오류 발생
    }
}
```
> Image 뷰는 메인 뷰의 범위 밖<br/>
> -> **@Binding** 프로퍼티 래퍼 이용

```
            WifiImageView(wifiEnabled: $wifiEnabled)
        }
    }
.
.
struct WifiImageView: View {

    @Binding var wifiEnabled : Bool

    var body: some View {
        Image(systemName: wifiEnabled ? "wifi" : "wifi.slash") // 오류 발생
    }
}

-----------

# Observabled 객체
